{"ast":null,"code":"import _slicedToArray from\"/Users/yingyangzhang/Desktop/Porjects/Aster/aster-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{NavLink,useNavigate}from\"react-router-dom\";import{useRef,useEffect}from\"react\";import{motion}from\"framer-motion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Header(_ref){var setIsPopUpForm=_ref.setIsPopUpForm,currentUser=_ref.currentUser,setCurrentUser=_ref.setCurrentUser;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isUserSelections=_useState2[0],setIsUserSelections=_useState2[1];var userRef=useRef();var navigate=useNavigate();useEffect(function(){var handler=function handler(e){if(!userRef.current.contains(e.target)){setIsUserSelections(false);}};document.addEventListener('mousedown',handler);return function(){document.removeEventListener('mousedown',handler);};});function handleUserSelections(){setIsUserSelections(function(userSelections){return!userSelections;});}function handleSelection(){setIsUserSelections(false);}function handleLogout(e){e.stopPropagation();localStorage.removeItem('jwt');setCurrentUser(null);navigate('/');}return/*#__PURE__*/_jsx(\"div\",{className:\"header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"nav flex-box container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-container\",children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",exact:\"true\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://aster-imgs.s3.amazonaws.com/logo.png\",alt:\"logo\"})})}),/*#__PURE__*/_jsxs(\"ul\",{className:\"menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/\",exact:\"true\",children:\"HOME\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:currentUser?'/reservation':'/',exact:\"true\",onClick:currentUser?null:function(){return setIsPopUpForm(true);},children:\"RESERVATION\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(NavLink,{to:\"/gallery\",exact:\"true\",children:\"GALLERY\"})}),currentUser?/*#__PURE__*/_jsxs(\"div\",{className:\"user-drop-down\",ref:userRef,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-btn\",onClick:handleUserSelections,children:[/*#__PURE__*/_jsx(\"p\",{children:currentUser.username.toUpperCase()}),\" \",/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-chevron-down\"})]}),isUserSelections?/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:-5},whileInView:{opacity:1,y:0},transition:{duration:.4},viewport:{once:true},className:\"user-selections flex-box\",children:[/*#__PURE__*/_jsx(NavLink,{to:\"/profile\",exact:\"true\",onClick:handleSelection,children:/*#__PURE__*/_jsxs(\"p\",{children:[\"PROFILE \",/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-user\"})]})}),/*#__PURE__*/_jsx(NavLink,{to:\"/user_request\",exact:\"true\",onClick:handleSelection,children:/*#__PURE__*/_jsxs(\"p\",{children:[\"REQUEST \",/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-book-content\"})]})}),/*#__PURE__*/_jsxs(\"p\",{onClick:handleLogout,children:[\"LOGOUT \",/*#__PURE__*/_jsx(\"i\",{className:\"bx bx-log-out\"}),\" \"]})]}):null]}):/*#__PURE__*/_jsx(\"li\",{className:\"login-link\",onClick:function onClick(){return setIsPopUpForm(true);},ref:userRef,children:\"LOGIN\"})]})]})});}","map":{"version":3,"names":["React","useState","NavLink","useNavigate","useRef","useEffect","motion","Header","setIsPopUpForm","currentUser","setCurrentUser","isUserSelections","setIsUserSelections","userRef","navigate","handler","e","current","contains","target","document","addEventListener","removeEventListener","handleUserSelections","userSelections","handleSelection","handleLogout","stopPropagation","localStorage","removeItem","username","toUpperCase","opacity","y","duration","once"],"sources":["/Users/yingyangzhang/Desktop/Porjects/Aster/aster-frontend/src/Components/Header.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { NavLink, useNavigate } from \"react-router-dom\";\nimport { useRef, useEffect } from \"react\";\nimport { motion } from \"framer-motion\";\n\nexport default function Header({setIsPopUpForm, currentUser, setCurrentUser}) {  \n    const [isUserSelections, setIsUserSelections] = useState(false);\n    let userRef = useRef();\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        let handler = (e) => {\n            if(!userRef.current.contains(e.target)) {\n                setIsUserSelections(false);\n            }\n        }\n\n        document.addEventListener('mousedown', handler);\n\n        return () => {\n            document.removeEventListener('mousedown', handler);\n        }\n    })\n\n    function handleUserSelections() {\n        setIsUserSelections(userSelections => !userSelections);\n    }\n\n    function handleSelection() {\n        setIsUserSelections(false);\n    }\n\n    function handleLogout(e) {\n        e.stopPropagation();\n        localStorage.removeItem('jwt');\n        setCurrentUser(null);\n        navigate('/');\n    }\n\n    return (\n        <div className=\"header\">\n            <div className=\"nav flex-box container\">\n                <div className=\"logo-container\">\n                    <NavLink to=\"/\" exact=\"true\"><img src=\"https://aster-imgs.s3.amazonaws.com/logo.png\" alt=\"logo\" /></NavLink>\n                </div>\n                <ul className=\"menu\">\n                    <li><NavLink to=\"/\" exact=\"true\">HOME</NavLink></li>\n                    <li><NavLink to={currentUser ? '/reservation' : '/'} exact=\"true\" onClick={currentUser ? null : (() => setIsPopUpForm(true))}>RESERVATION</NavLink></li>\n                    <li><NavLink to=\"/gallery\" exact=\"true\">GALLERY</NavLink></li>\n                    {currentUser ? \n                    <div className=\"user-drop-down\" ref={userRef}>\n                        <div className=\"user-btn\" onClick={handleUserSelections}>\n                            <p>{currentUser.username.toUpperCase()}</p> <i className='bx bx-chevron-down'></i>\n                        </div>\n                        {isUserSelections ? \n                        <motion.div initial={{ opacity: 0, y: -5 }} \n                        whileInView={{ opacity: 1, y: 0}} \n                        transition={{ duration: .4 }} \n                        viewport={{ once: true }} \n                        className=\"user-selections flex-box\">\n                            <NavLink to=\"/profile\" exact=\"true\" onClick={handleSelection}><p>PROFILE <i className='bx bx-user' ></i></p></NavLink>\n                            <NavLink to=\"/user_request\" exact=\"true\" onClick={handleSelection}><p>REQUEST <i className='bx bx-book-content'></i></p></NavLink>\n                            <p onClick={handleLogout}>LOGOUT <i className='bx bx-log-out'></i> </p>\n                        </motion.div> \n                        : null}        \n                    </div> \n                    :\n                    <li className=\"login-link\" onClick={() => setIsPopUpForm(true)} ref={userRef}>LOGIN</li>\n                    }\n                    \n                    \n                </ul>\n            </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}